- defaults:
    link:
      create: true
      relink: true
      force: true
    shell:
      stdin: true
      stdout: true
      stderr: true
    snap:
      classic: false # default

- clean: ['~', '~/.config']

# install oh my zsh
- shell:
  - sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

# bootstrap installs
- sudo:
  - apt:
    - curl
    - zsh
    - tmux
    - build-essential
    - xclip
    - cmake
    - gitk

  - snap:
    - spotify:
    - code:
      classic: true
    - slack:
    - discord:
    - nvim:
      classic: true

  - shell:
    - chsh -s $(which zsh) "$USER"

# install auto suggestions for oh my zsh
- git:
    '~/.oh-my-zsh/custom/plugins/zsh-autosuggestions':
        url: 'https://github.com/zsh-users/zsh-autosuggestions'
        description: 'oh my zsh - autosuggestions'

# link dotfiles
- link:
    ~/.bashrc: bashrc
    ~/.tmux.conf: tmux.conf
    ~/.zshrc: zshrc
    ~/.config/nvim:
      create: true
      path: nvim

- shell:
  - git config --global core.editor "nvim"
  - git config --global user.name "Lucien Morey"

- shell:
  - gsettings set org.gnome.shell favorite-apps "['firefox_firefox.desktop', 'thunderbird_thunderbird.desktop', 'org.gnome.Nautilus.desktop', 'code_code.desktop', 'org.gnome.Terminal.desktop', 'spotify_spotify.desktop']"
